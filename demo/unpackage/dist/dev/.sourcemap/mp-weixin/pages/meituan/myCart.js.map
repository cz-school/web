{"version":3,"sources":["webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?4412","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?1b41","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?0604","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/main.js","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?d3f4","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?a217","webpack:///D:/王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue?9087"],"names":["components","uniNumberBox","data","total","allChecked","empty","hasLogin","cartList","modalName","text","previousPage","uid","onLoad","e","console","log","loadData","watch","length","computed","methods","id","uni","getStorageSync","request","url","header","success","res","calcTotal","onImageLoad","key","index","$set","onImageError","image","navToLogin","navigateTo","check","type","method","ischeck","menu_check","ok","error","checked","ids","list","forEach","item","push","numberChange","number","menu_num","deleteCartItem","showModal","content","confirm","row","splice","hideLoading","clearCart","parseFloat","menu_price","Number","toFixed","createOrder","goodsData","menu_id","cartid","JSON","stringify","setStorageSync","reLaunch","hideModal","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAoiC,CAAgB,u7BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiFziC;AACdA,YAAU,EAAE;AACXC,gBAAY,EAAZA,YADW,EADE;;AAIdC,MAJc,kBAIP;AACN,WAAO;AACNC,WAAK,EAAE,CADD,EACI;AACVC,gBAAU,EAAE,KAFN,EAEa;AACnBC,WAAK,EAAE,KAHD,EAGQ;AACdC,cAAQ,EAAE,KAJJ;AAKNC,cAAQ,EAAE,EALJ;AAMNC,eAAS,EAAE,IANL;AAONC,UAAI,EAAE,IAPA;AAQNC,kBAAY,EAAE,EARR;AASNC,SAAG,EAAE,IATC,EAAP;;AAWA,GAhBa;AAiBdC,QAjBc,kBAiBPC,CAjBO,EAiBJ;AACTC,WAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,SAAKG,QAAL;AACA,SAAKN,YAAL,GAAoBG,CAApB;AACA,GArBa;AAsBdI,OAAK,EAAE;AACN;AACAV,YAFM,oBAEGM,CAFH,EAEM;AACX,UAAIR,KAAK,GAAGQ,CAAC,CAACK,MAAF,KAAa,CAAb,GAAiB,IAAjB,GAAwB,KAApC;AACA,UAAI,KAAKb,KAAL,KAAeA,KAAnB,EAA0B;AACzB,aAAKA,KAAL,GAAaA,KAAb;AACA;AACD,KAPK,EAtBO;;AA+Bdc,UAAQ,EAAE,EA/BI;;;AAkCdC,SAAO,EAAE;AACR;AACAJ,YAFQ,sBAEG;AACV,UAAIK,EAAE,GAAGC,GAAG,CAACC,cAAJ,CAAmB,SAAnB,CAAT;AACA,WAAKZ,GAAL,GAAWU,EAAX;AACAC,SAAG,CAACE,OAAJ,CAAY;AACXC,WAAG,uDAAgDJ,EAAhD,CADQ,EAC8C;AACzDK,cAAM,EAAE;AACP,0BAAgB,mCADT,EAFG;;AAKXC,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjBd,iBAAO,CAACC,GAAR,CAAYa,GAAG,CAAC1B,IAAJ,CAASA,IAArB;AACA,eAAI,CAACK,QAAL,GAAgBqB,GAAG,CAAC1B,IAAJ,CAASA,IAAzB;AACA,cAAI0B,GAAG,CAAC1B,IAAJ,CAASA,IAAT,CAAcgB,MAAd,IAAwB,CAA5B,EAA+B;AAC9B,iBAAI,CAACW,SAAL;AACA;AACD,SAXU,EAAZ;;AAaA;AACA,KAnBO;AAoBR;AACAC,eArBQ,uBAqBIC,GArBJ,EAqBSC,KArBT,EAqBgB;AACvB,WAAKC,IAAL,CAAU,KAAKF,GAAL,EAAUC,KAAV,CAAV,EAA4B,QAA5B,EAAsC,QAAtC;AACA,KAvBO;AAwBR;AACAE,gBAzBQ,wBAyBKH,GAzBL,EAyBUC,KAzBV,EAyBiB;AACxB,WAAKD,GAAL,EAAUC,KAAV,EAAiBG,KAAjB,GAAyB,wBAAzB;AACA,KA3BO;AA4BRC,cA5BQ,wBA4BK;AACZd,SAAG,CAACe,UAAJ,CAAe;AACdZ,WAAG,EAAE,mBADS,EAAf;;AAGA,KAhCO;AAiCR;AACAa,SAlCQ,iBAkCFC,IAlCE,EAkCIP,KAlCJ,EAkCW;AAClB,UAAIO,IAAI,KAAK,MAAb,EAAqB;AACpBjB,WAAG,CAACE,OAAJ,CAAY;AACXgB,gBAAM,EAAE,KADG;AAEXf,aAAG,uDAAgD,KAAKlB,QAAL,CAAcyB,KAAd,EAAqBX,EAArE,CAFQ,EAEmE;AAC9EnB,cAAI,EAAE;AACLuC,mBAAO,EAAE,CAAE,KAAKlC,QAAL,CAAcyB,KAAd,EAAqBU,UAD3B,EAHK;;AAMXhB,gBAAM,EAAE;AACP;AADO,WANG;AASXC,iBAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,gBAAIA,GAAG,CAAC1B,IAAJ,CAASyC,EAAT,KAAgB,CAApB,EAAuB;AACtB,oBAAI,CAACpC,QAAL,CAAcyB,KAAd,EAAqBU,UAArB,GAAkC,CAAC,MAAI,CAACnC,QAAL,CAAcyB,KAAd,EAAqBU,UAAxD;AACA,oBAAI,CAACb,SAAL;AACA,aAHD,MAGO;AACN,oBAAI,CAACpB,IAAL,GAAYmB,GAAG,CAAC1B,IAAJ,CAAS0C,KAArB;AACA,oBAAI,CAACpC,SAAL,GAAiB,OAAjB;AACA,oBAAI,CAACqB,SAAL;AACA;AACD,WAlBU,EAAZ;;;AAqBA,OAtBD,MAsBO;AACN,YAAMgB,OAAO,GAAG,CAAC,KAAKzC,UAAtB;AACA,YAAM0C,GAAG,GAAG,EAAZ;AACA,YAAMC,IAAI,GAAG,KAAKxC,QAAlB;AACAwC,YAAI,CAACC,OAAL,CAAa,UAAAC,IAAI,EAAI;AACpBH,aAAG,CAACI,IAAJ,CAASD,IAAI,CAAC5B,EAAd;AACA,SAFD;;;AAKAC,WAAG,CAACE,OAAJ,CAAY;AACXgB,gBAAM,EAAE,KADG;AAEXf,aAAG,oDAFQ,EAE8C;AACzDvB,cAAI,EAAE;AACLuC,mBAAO,EAAEI,OADJ;AAELxB,cAAE,EAAEyB,GAFC,EAHK;;AAOXpB,gBAAM,EAAE;AACP;AADO,WAPG;AAUXC,iBAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,gBAAIA,GAAG,CAAC1B,IAAJ,CAASyC,EAAT,KAAgB,CAApB,EAAuB;AACtBI,kBAAI,CAACC,OAAL,CAAa,UAAAC,IAAI,EAAI;AACpBA,oBAAI,CAACP,UAAL,GAAkBG,OAAlB;AACA,eAFD;AAGA,oBAAI,CAACzC,UAAL,GAAkByC,OAAlB;AACA,oBAAI,CAAChB,SAAL,CAAeU,IAAf;AACA,aAND,MAMO;AACN,oBAAI,CAAC9B,IAAL,GAAYmB,GAAG,CAAC1B,IAAJ,CAAS0C,KAArB;AACA,oBAAI,CAACpC,SAAL,GAAiB,OAAjB;AACA,oBAAI,CAACqB,SAAL;AACA;AACD,WAtBU,EAAZ;;AAwBA;AACD,KA3FO;AA4FR;AACAsB,gBA7FQ,wBA6FKjD,IA7FL,EA6FW;AAClB,UAAIA,IAAI,CAACkD,MAAL,IAAe,GAAnB,EAAwB;AACvB,aAAK3C,IAAL,GAAY,iBAAZ;AACA,aAAKD,SAAL,GAAiB,OAAjB;AACA;AACDc,SAAG,CAACE,OAAJ,CAAY;AACXgB,cAAM,EAAE,KADG;AAEXf,WAAG,EAAE,4CAFM,EAEwC;AACnDvB,YAAI,EAAE;AACLmB,YAAE,EAAE,KAAKd,QAAL,CAAcL,IAAI,CAAC8B,KAAnB,EAA0BX,EADzB;AAELgC,kBAAQ,EAAEnD,IAAI,CAACkD,MAFV,EAHK;;AAOX1B,cAAM,EAAE;AACP;AADO,SAPG;AAUXC,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,cAAIA,GAAG,CAAC1B,IAAJ,CAASyC,EAAT,KAAgB,CAApB,EAAuB;AACtB,kBAAI,CAACpC,QAAL,CAAcL,IAAI,CAAC8B,KAAnB,EAA0BqB,QAA1B,GAAqCnD,IAAI,CAACkD,MAA1C;AACA,kBAAI,CAACvB,SAAL;AACA,WAHD,MAGO;AACN3B,gBAAI,CAACkD,MAAL,GAAc,MAAI,CAAC7C,QAAL,CAAcL,IAAI,CAAC8B,KAAnB,EAA0BqB,QAAxC;AACA,kBAAI,CAACxB,SAAL;AACA;AACD,SAlBU,EAAZ;;AAoBA,KAtHO;AAuHR;AACAyB,kBAxHQ,0BAwHOtB,KAxHP,EAwHc;AACrBV,SAAG,CAACiC,SAAJ,CAAc;AACbC,eAAO,EAAE,kBADI;AAEb7B,eAAO,EAAE,iBAACd,CAAD,EAAO;AACf,cAAIA,CAAC,CAAC4C,OAAN,EAAe;AACd,gBAAIV,IAAI,GAAG,MAAI,CAACxC,QAAhB;AACA,gBAAImD,GAAG,GAAGX,IAAI,CAACf,KAAD,CAAd;AACA,gBAAIX,EAAE,GAAGqC,GAAG,CAACrC,EAAb;AACA;AACAC,eAAG,CAACE,OAAJ,CAAY;AACXgB,oBAAM,EAAE,QADG;AAEXf,iBAAG,uDAAgDJ,EAAhD,CAFQ,EAE8C;AACzDK,oBAAM,EAAE;AACP;AADO,eAHG;AAMXC,qBAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,oBAAIA,GAAG,CAAC1B,IAAJ,CAASyC,EAAT,KAAgB,CAApB,EAAuB;AACtB,wBAAI,CAACpC,QAAL,CAAcoD,MAAd,CAAqB3B,KAArB,EAA4B,CAA5B;AACA,wBAAI,CAACH,SAAL;AACAP,qBAAG,CAACsC,WAAJ;AACA,iBAJD,MAIO;AACN,wBAAI,CAACnD,IAAL,GAAYmB,GAAG,CAAC1B,IAAJ,CAAS0C,KAArB;AACA,wBAAI,CAACpC,SAAL,GAAiB,OAAjB;AACA;AACD,eAfU,EAAZ;;;AAkBA;AACD,SA3BY,EAAd;;;AA8BA,KAvJO;AAwJR;AACAqD,aAzJQ,uBAyJI;AACXvC,SAAG,CAACiC,SAAJ,CAAc;AACbC,eAAO,EAAE,QADI;AAEb7B,eAAO,EAAE,iBAACd,CAAD,EAAO;AACf,cAAIA,CAAC,CAAC4C,OAAN,EAAe;AACd,gBAAIX,GAAG,GAAG,EAAV;AACA,kBAAI,CAACvC,QAAL,CAAcyC,OAAd,CAAsB,UAAAC,IAAI,EAAI;AAC7BH,iBAAG,CAACI,IAAJ,CAASD,IAAI,CAAC5B,EAAd;AACA,aAFD;AAGA;AACAC,eAAG,CAACE,OAAJ,CAAY;AACXgB,oBAAM,EAAE,QADG;AAEXf,iBAAG,8CAFQ,EAEwC;AACnDvB,kBAAI,EAAE;AACLmB,kBAAE,EAAEyB,GADC,EAHK;;AAMXpB,oBAAM,EAAE;AACP;AADO,eANG;AASXC,qBAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,oBAAIA,GAAG,CAAC1B,IAAJ,CAASyC,EAAT,KAAgB,CAApB,EAAuB;AACtB,wBAAI,CAACpC,QAAL,GAAgB,EAAhB;AACA,wBAAI,CAACsB,SAAL;AACAP,qBAAG,CAACsC,WAAJ;AACA,iBAJD,MAIO;AACN,wBAAI,CAACnD,IAAL,GAAYmC,KAAZ;AACA,wBAAI,CAACpC,SAAL,GAAiB,OAAjB;AACA;AACD,eAlBU,EAAZ;;AAoBA;AACD,SA9BY,EAAd;;AAgCA,KA1LO;AA2LR;AACAqB,aA5LQ,uBA4LI;AACX,UAAIkB,IAAI,GAAG,KAAKxC,QAAhB;AACA,UAAIwC,IAAI,CAAC7B,MAAL,KAAgB,CAApB,EAAuB;AACtB,aAAKb,KAAL,GAAa,IAAb;AACA;AACA;AACD,UAAIF,KAAK,GAAG,CAAZ;AACA,UAAI0C,OAAO,GAAG,IAAd;AACAE,UAAI,CAACC,OAAL,CAAa,UAAAC,IAAI,EAAI;AACpB,YAAIA,IAAI,CAACP,UAAL,KAAoB,IAAxB,EAA8B;AAC7BvC,eAAK,IAAI2D,UAAU,CAACb,IAAI,CAACc,UAAN,CAAV,GAA8BD,UAAU,CAACb,IAAI,CAACI,QAAN,CAAjD;AACA,SAFD,MAEO,IAAIR,OAAO,KAAK,IAAhB,EAAsB;AAC5BA,iBAAO,GAAG,KAAV;AACA;AACD,OAND;AAOA,WAAKzC,UAAL,GAAkByC,OAAlB;AACA,WAAK1C,KAAL,GAAa6D,MAAM,CAAC7D,KAAK,CAAC8D,OAAN,CAAc,CAAd,CAAD,CAAnB;AACA,KA7MO;AA8MR;AACAC,eA/MQ,yBA+MM;AACb,UAAInB,IAAI,GAAG,KAAKxC,QAAhB;AACA,UAAI4D,SAAS,GAAG,EAAhB;AACApB,UAAI,CAACC,OAAL,CAAa,UAAAC,IAAI,EAAI;AACpB,YAAIA,IAAI,CAACP,UAAT,EAAqB;AACpByB,mBAAS,CAACjB,IAAV;AACC7B,cAAE,EAAE4B,IAAI,CAACmB,OADV;AAECC,kBAAM,EAAEpB,IAAI,CAAC5B,EAFd;AAGE4B,cAAI,CAACmB,OAHP,EAGiB;AACfhB,kBAAM,EAAEH,IAAI,CAACI,QADE,EAHjB;;;AAOA;AACD,OAVD;AAWA,UAAInD,IAAI,GAAGoE,IAAI,CAACC,SAAL,CAAe;AACzBJ,iBAAS,EAAEA,SADc,EAAf,CAAX;;AAGA;AACA7C,SAAG,CAACkD,cAAJ,CAAmB,WAAnB,EAAgCtE,IAAhC;AACAoB,SAAG,CAACmD,QAAJ,CAAa;AACZhD,WAAG,2BADS,EAAb;;AAGA,KArOO;AAsOR;AACAiD,aAvOQ,qBAuOE7D,CAvOF,EAuOK;AACZ,WAAKL,SAAL,GAAiB,IAAjB;AACA,KAzOO,EAlCK,E;;;;;;;;;;;;;ACjFf;AAAA;AAAA;AAAA;AAA0uD,CAAgB,2/CAAG,EAAC,C;;;;;;;;;;;ACA9vD,uC;;;;;;;;;;;;kDCAA,wCAAmB;;AAEnB;AACA,gG;AACAmE,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqF;AAC3B;AACL;AACc;;;AAGnE;AACuL;AACvL,gBAAgB,gLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/meituan/myCart.js","sourcesContent":["import mod from \"-!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myCart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myCart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniNumberBox from '@/components/uni-number-box.vue'\nexport default {\n\tcomponents: {\n\t\tuniNumberBox\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttotal: 0, //总价格\n\t\t\tallChecked: false, //全选状态  true|false\n\t\t\tempty: false, //空白页现实  true|false,\n\t\t\thasLogin: false,\n\t\t\tcartList: [],\n\t\t\tmodalName: null,\n\t\t\ttext: null,\n\t\t\tpreviousPage: {},\n\t\t\tuid: null\n\t\t};\n\t},\n\tonLoad(e) {\n\t\tconsole.log(e)\n\t\tthis.loadData();\n\t\tthis.previousPage = e\n\t},\n\twatch: {\n\t\t//显示空白页\n\t\tcartList(e) {\n\t\t\tlet empty = e.length === 0 ? true : false;\n\t\t\tif (this.empty !== empty) {\n\t\t\t\tthis.empty = empty;\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\n\t},\n\tmethods: {\n\t\t//请求数据\n\t\tloadData() {\n\t\t\tlet id = uni.getStorageSync('user_id')\n\t\t\tthis.uid = id\n\t\t\tuni.request({\n\t\t\t\turl: `http://47.104.29.236:9999/api/v1/myCart_st/${id}`, //仅为示例，并非真实接口地址。\n\t\t\t\theader: {\n\t\t\t\t\t\"content-type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.data.data)\n\t\t\t\t\tthis.cartList = res.data.data;\n\t\t\t\t\tif (res.data.data.length != 0) {\n\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t// this.calcTotal(); //计算总价\n\t\t},\n\t\t//监听image加载完成\n\t\tonImageLoad(key, index) {\n\t\t\tthis.$set(this[key][index], 'loaded', 'loaded');\n\t\t},\n\t\t//监听image加载失败\n\t\tonImageError(key, index) {\n\t\t\tthis[key][index].image = '/static/errorImage.jpg';\n\t\t},\n\t\tnavToLogin() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: 'pages/login/login'\n\t\t\t})\n\t\t},\n\t\t//选中状态处理\n\t\tcheck(type, index) {\n\t\t\tif (type === 'item') {\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: 'put',\n\t\t\t\t\turl: `http://47.104.29.236:9999/api/v1/myCart_st/${this.cartList[index].id}`, //仅为示例，并非真实接口地址。\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tischeck: !(this.cartList[index].menu_check)\n\t\t\t\t\t},\n\t\t\t\t\theader: {\n\t\t\t\t\t\t// 'custom-header': 'hello' //自定义请求头信息\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.ok === 1) {\n\t\t\t\t\t\t\tthis.cartList[index].menu_check = !this.cartList[index].menu_check;\n\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.text = res.data.error\n\t\t\t\t\t\t\tthis.modalName = 'Modal'\n\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t} else {\n\t\t\t\tconst checked = !this.allChecked\n\t\t\t\tconst ids = [];\n\t\t\t\tconst list = this.cartList;\n\t\t\t\tlist.forEach(item => {\n\t\t\t\t\tids.push(item.id)\n\t\t\t\t})\n\n\n\t\t\t\tuni.request({\n\t\t\t\t\tmethod: 'put',\n\t\t\t\t\turl: `http://47.104.29.236:9999/api/v1/v1/myCart_s_all`, //仅为示例，并非真实接口地址。\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tischeck: checked,\n\t\t\t\t\t\tid: ids\n\t\t\t\t\t},\n\t\t\t\t\theader: {\n\t\t\t\t\t\t// 'custom-header': 'hello' //自定义请求头信息\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.data.ok === 1) {\n\t\t\t\t\t\t\tlist.forEach(item => {\n\t\t\t\t\t\t\t\titem.menu_check = checked\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.allChecked = checked;\n\t\t\t\t\t\t\tthis.calcTotal(type);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.text = res.data.error\n\t\t\t\t\t\t\tthis.modalName = 'Modal'\n\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t//数量\n\t\tnumberChange(data) {\n\t\t\tif (data.number >= 200) {\n\t\t\t\tthis.text = '每一个商品每次最多购买200件'\n\t\t\t\tthis.modalName = 'Modal'\n\t\t\t}\n\t\t\tuni.request({\n\t\t\t\tmethod: 'put',\n\t\t\t\turl: 'http://47.104.29.236:9999/api/v1/myCart_st', //仅为示例，并非真实接口地址。\n\t\t\t\tdata: {\n\t\t\t\t\tid: this.cartList[data.index].id,\n\t\t\t\t\tmenu_num: data.number\n\t\t\t\t},\n\t\t\t\theader: {\n\t\t\t\t\t// 'custom-header': 'hello' //自定义请求头信息\n\t\t\t\t},\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.data.ok === 1) {\n\t\t\t\t\t\tthis.cartList[data.index].menu_num = data.number;\n\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdata.number = this.cartList[data.index].menu_num;\n\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t//删除\n\t\tdeleteCartItem(index) {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '您确定,要在购物车删除这份菜吗?',\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tlet list = this.cartList;\n\t\t\t\t\t\tlet row = list[index];\n\t\t\t\t\t\tlet id = row.id;\n\t\t\t\t\t\t// 发起请求 删除\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\turl: `http://47.104.29.236:9999/api/v1/myCart_st/${id}`, //仅为示例，并非真实接口地址。\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t// 'custom-header': 'hello' //自定义请求头信息\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.data.ok === 1) {\n\t\t\t\t\t\t\t\t\tthis.cartList.splice(index, 1);\n\t\t\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.text = res.data.error\n\t\t\t\t\t\t\t\t\tthis.modalName = 'Modal'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t},\n\t\t//清空\n\t\tclearCart() {\n\t\t\tuni.showModal({\n\t\t\t\tcontent: '清空购物车？',\n\t\t\t\tsuccess: (e) => {\n\t\t\t\t\tif (e.confirm) {\n\t\t\t\t\t\tlet ids = [];\n\t\t\t\t\t\tthis.cartList.forEach(item => {\n\t\t\t\t\t\t\tids.push(item.id)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 发起请求 删除\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\t\turl: `http://47.104.29.236:9999/api/v1/myCart_st`, //仅为示例，并非真实接口地址。\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tid: ids\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t// 'custom-header': 'hello' //自定义请求头信息\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.data.ok === 1) {\n\t\t\t\t\t\t\t\t\tthis.cartList = [];\n\t\t\t\t\t\t\t\t\tthis.calcTotal();\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.text = error\n\t\t\t\t\t\t\t\t\tthis.modalName = 'Modal'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//计算总价\n\t\tcalcTotal() {\n\t\t\tlet list = this.cartList;\n\t\t\tif (list.length === 0) {\n\t\t\t\tthis.empty = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet total = 0;\n\t\t\tlet checked = true;\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.menu_check === true) {\n\t\t\t\t\ttotal += parseFloat(item.menu_price) * parseFloat(item.menu_num);\n\t\t\t\t} else if (checked === true) {\n\t\t\t\t\tchecked = false;\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.allChecked = checked;\n\t\t\tthis.total = Number(total.toFixed(2));\n\t\t},\n\t\t//创建订单\n\t\tcreateOrder() {\n\t\t\tlet list = this.cartList;\n\t\t\tlet goodsData = [];\n\t\t\tlist.forEach(item => {\n\t\t\t\tif (item.menu_check) {\n\t\t\t\t\tgoodsData.push({\n\t\t\t\t\t\tid: item.menu_id,\n\t\t\t\t\t\tcartid: item.id,\n\t\t\t\t\t\t[item.menu_id]: {\n\t\t\t\t\t\t\tnumber: item.menu_num\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tlet data = JSON.stringify({\n\t\t\t\tgoodsData: goodsData\n\t\t\t})\n\t\t\t// console.log(data)\n\t\t\tuni.setStorageSync('goodsData', data);\n\t\t\tuni.reLaunch({\n\t\t\t\turl: `/pages/meituan/purchase`\n\t\t\t});\n\t\t},\n\t\t// 关闭提示信息\n\t\thideModal(e) {\n\t\t\tthis.modalName = null\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myCart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myCart.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/meituan/myCart.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./myCart.vue?vue&type=template&id=4c3f9520&\"\nimport script from \"./myCart.vue?vue&type=script&lang=js&\"\nexport * from \"./myCart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myCart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Program Files\\\\feiq\\\\Recv Files\\\\软件\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4c3f9520', component.options)\n    } else {\n      api.reload('4c3f9520', component.options)\n    }\n    module.hot.accept(\"./myCart.vue?vue&type=template&id=4c3f9520&\", function () {\n      api.rerender('4c3f9520', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"王海龙/项目/绿色校园/cz-school/git/web/demo/pages/meituan/myCart.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../Program Files/feiq/Recv Files/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myCart.vue?vue&type=template&id=4c3f9520&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}