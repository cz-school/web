<view class="container"><cu-custom vue-id="1" bgColor="bg-gradual-pink" isBack="{{true}}" url="{{previousPage.path?'/'+previousPage.path+'?id='+previousPage.win_id:'/pages/meituan/index'}}" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">购物车</view></cu-custom><block wx:if="{{!cartList.length>0||!uid}}"><view class="empty"><image src="/static/emptyCart.jpg" mode="aspectFit"></image><block wx:if="{{uid}}"><view class="empty-tips">空空如也<block wx:if="{{hasLogin}}"><navigator class="navigator" url="../index/index" open-type="switchTab">随便逛逛></navigator></block></view></block><block wx:else><view class="empty-tips">空空如也<view data-event-opts="{{[['tap',[['navToLogin',['$event']]]]]}}" class="navigator" bindtap="__e">去登陆></view></view></block></view></block><view><view class="cart-list"><block wx:for="{{cartList}}" wx:for-item="item" wx:for-index="index" wx:key="id"><block><view class="{{['cart-item',(index!==cartList.length-1)?'b-b':'']}}"><view class="image-wrapper"><image class="{{[item.loaded]}}" src="{{item.menu_img}}" mode="aspectFill" lazy-load data-event-opts="{{[['load',[['onImageLoad',['cartList',index]]]],['error',[['onImageError',['cartList',index]]]]]}}" bindload="__e" binderror="__e"></image><view data-event-opts="{{[['tap',[['check',['item',index]]]]]}}" class="{{['yticon icon-xuanzhong2 checkbox',item.menu_check?'checked':'']}}" bindtap="__e"></view></view><view class="item-right"><text class="clamp title">{{item.menu_name}}</text><text class="attr text-cut">{{item.menu_describe}}</text><text class="price">{{"¥"+item.menu_price}}</text><uni-number-box class="step" vue-id="{{'2-'+index}}" min="{{1}}" max="{{200}}" value="{{item.menu_num>200?200:item.menu_num}}" isMax="{{item.menu_num>=200?true:false}}" isMin="{{item.menu_num===1}}" index="{{index}}" data-event-opts="{{[['^eventChange',[['numberChange']]]]}}" bind:eventChange="__e" bind:__l="__l"></uni-number-box></view><text data-event-opts="{{[['tap',[['deleteCartItem',[index]]]]]}}" class="del-btn yticon icon-fork" bindtap="__e"></text></view></block></block></view><view class="action-section"><view class="checkbox"><image src="{{allChecked?'/static/meituan/myCart/selected.png':'/static/meituan/myCart/select.png'}}" mode="aspectFit" data-event-opts="{{[['tap',[['check',['all']]]]]}}" bindtap="__e"></image><view data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="{{['clear-btn',(allChecked)?'show':'']}}" bindtap="__e">清空</view></view><view class="total-box"><text class="price">{{"¥"+total}}</text></view><button class="no-border confirm-btn" type="primary" data-event-opts="{{[['tap',[['createOrder',['$event']]]]]}}" bindtap="__e">去结算</button></view></view><view class="{{['cu-modal',modalName=='Modal'?'show':'']}}"><view class="cu-dialog"><view class="cu-bar bg-white justify-end"><view class="content">提示</view><view data-event-opts="{{[['tap',[['hideModal',['$event']]]]]}}" class="action" bindtap="__e"><text class="cuIcon-close text-red"></text></view></view><view class="padding-xl">{{''+text+''}}</view></view></view></view>